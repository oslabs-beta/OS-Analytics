import{j as e,r as c,a as bt}from"./react-D9vTRhYi.js";import{c as yt}from"./react-dom-svIPcKm3.js";import{L as y,N as Be,B as vt}from"./react-router-dom-CdO36Yjh.js";import{a as M,u as j}from"./jotai-BT-u-8my.js";import{a as I}from"./axios-DsPaXkF5.js";import{c as Ge,e as wt,f as kt,g as E,h as V}from"./react-router-DGP2_dpY.js";import{L as _t,P as Ct,D as St,B as De,R as Nt,S as Lt}from"./react-chartjs-2-Bszi9dp4.js";import{C as X,a as de,b as he,c as Ye,d as Bt,p as Ae,e as J,f as ee,i as Dt,A as At,g as Ie,R as It,h as Rt}from"./chart.js-DznIE8zp.js";import{I as ne,d as $t,T as _,c as Tt,a as Wt,B as k,b as F,C as Re,L as le,e as Pe,f as re,F as je,S as be,M as $,D as Pt,g as Et,h as Ot,i as Ft,j as Mt,k as Q,V as zt,l as Ut,m as Kt,n as Ht,o as qt,p as Ve,A as Gt,q as Ze,P as Yt,r as Vt,s as Ee,t as Zt,u as Qt,v as Xt,w as Oe,x as pe,y as Se,z as Jt,E as Fe,G as Me,H as ze,J as es,K as ts,N as ss}from"./@mui-Bxzml_AG.js";import{h as as}from"./heatmap.js-PGz9o4HL.js";import{h as Ne,v as Le}from"./react-syntax-highlighter-CwwZ04Ve.js";import{l as os}from"./react-copy-to-clipboard-58TPYkXM.js";import{u as Qe,a as Xe,i as Je,B as et,P as B,b as rs}from"./@xyflow-C5lUpiea.js";import{d as Ue}from"./dagre-Cv0z61-j.js";import{t as ns}from"./html-to-image-Cnhg7C0r.js";import"./@babel-CXYvT4Rb.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Lznw-q9N.js";import"./@kurkle-BZxJdD1U.js";import"./react-is-DUDD-a5e.js";import"./@emotion-DKXxEqe7.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-C9vU73M9.js";import"./refractor-k3dEAnni.js";import"./hastscript-CNav0U-G.js";import"./property-information-d_1UYrTS.js";import"./xtend-CeaPpq3n.js";import"./space-separated-tokens-CMBzgJJ4.js";import"./comma-separated-tokens-DgTuumFk.js";import"./hast-util-parse-selector-Cqsfuk9Y.js";import"./parse-entities-BPS6ijZJ.js";import"./character-entities-legacy-BW45UVHJ.js";import"./character-reference-invalid-AKrgFUtc.js";import"./is-decimal-Dxw1ZLrO.js";import"./is-hexadecimal-Bc6OsCR9.js";import"./is-alphanumerical-BsviXVJV.js";import"./is-alphabetical-BlcIJk-E.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./classcat-RvS1aOr8.js";import"./d3-zoom-C2t-IkRF.js";import"./d3-transition-CT0P4Hy_.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-B6xYU604.js";import"./d3-color-9lF95FHy.js";import"./d3-selection-DSeOx27A.js";import"./d3-ease-DRPgKoYJ.js";import"./d3-drag-CKshNLwO.js";import"./zustand-D0DrR9xu.js";import"./use-sync-external-store-2mueo4U6.js";import"./graphlib-Cb8qv4n-.js";import"./lodash-CxqJXaLJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const is="_navbar_605ef_1",cs="_navContainer_605ef_18",ls="_navLeft_605ef_26",ds="_navLeftDash_605ef_32",hs="_navLogo_605ef_39",us="_logoBox_605ef_42",ms="_navLinks_605ef_49",xs="_navRight_605ef_53",ps="_navButton_605ef_58",gs="_gitBox_605ef_63",fs="_logOutIcon_605ef_70",js="_hamburgerBox_605ef_75",bs="_hamburger_605ef_75",ys="_activeNav_605ef_111",v={navbar:is,navContainer:cs,navLeft:ls,navLeftDash:ds,navLogo:hs,logoBox:us,navLinks:ms,navRight:xs,navButton:ps,gitBox:gs,logOutIcon:fs,hamburgerBox:js,hamburger:bs,activeNav:ys},tt="/assets/pie-chart-yMUON5Ew.png",T="",te=M(""),$e=M(!1);M(!1);const G=M([]),st=M([]),ue=M([]),me=M("overview"),vs=M(s=>{const t=s(me);return s(G).filter(a=>a.website_name===t)}),ws=M(s=>{const t=s(me);return s(st).filter(a=>a.website_name===t)}),K=M("1 day"),at=async()=>(localStorage.removeItem("token"),!0),ks=async()=>{const s=localStorage.getItem("token");try{const t=await I.get(`${T}/api/auth/activeUser`,{headers:{Authorization:`Bearer ${s}`}});return t.status===200?t.data.email:""}catch{return localStorage.removeItem("token"),""}};function se(){const[s,t]=j(te),[a,i]=j($e),o=async()=>{await at()&&t("")};return e.jsx("div",{className:v.navbar,children:e.jsxs("div",{className:v.navContainer,children:[e.jsxs("div",{className:v.navLeft,children:[e.jsx(y,{to:"/",onClick:()=>{i(!1)},children:e.jsxs("div",{className:v.logoBox,children:[e.jsx("img",{className:v.navLogo,src:tt,alt:"at-logo"}),e.jsx("h3",{children:"OS Analytics"})]})}),s?e.jsxs("div",{className:v.navLinks,children:[e.jsx(y,{to:"/docs",children:e.jsx("span",{children:"Documentation"})}),e.jsx(y,{to:"/settings",children:e.jsx("span",{children:"Settings"})}),e.jsx(y,{to:"/playground",children:e.jsx("span",{children:"Playground"})})]}):e.jsxs("div",{className:v.navLinks,children:[e.jsx(Be,{to:"/docs",children:e.jsx("span",{children:"Documentation"})}),e.jsx(y,{to:"/signup",children:e.jsx("span",{children:"Getting Started"})}),e.jsx(y,{to:"/team",children:e.jsx("span",{children:"Team"})})]})]}),e.jsx("div",{className:v.navRight,children:s?e.jsxs(e.Fragment,{children:[e.jsxs("a",{className:v.gitBox,href:"https://github.com/oslabs-beta/ActivityTracker.io",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),e.jsx("span",{children:"GitHub"})]}),e.jsx(y,{to:"/dashboard",children:e.jsx("button",{className:`button btn-primary btn-animated ${v.navButton}`,children:"Dashboard"})}),e.jsx(y,{to:"/",onClick:()=>{o()},children:e.jsx("button",{className:`button btn-secondary btn-animated ${v.navButton}`,children:"Log out"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("a",{className:v.gitBox,href:"https://github.com/oslabs-beta/ActivityTracker.io",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),e.jsx("span",{children:"GitHub"})]}),e.jsx(y,{to:"/signup",children:e.jsx("button",{className:`button btn-primary btn-animated ${v.navButton}`,children:"Create account"})}),e.jsx(y,{to:"/login",children:e.jsx("button",{className:` button btn-secondary btn-animated ${v.navButton} `,children:"Log in"})})]})}),e.jsx("div",{className:a?`${v.hamburgerBox} ${v.activeNav}`:`${v.hamburgerBox}`,onClick:()=>{i(a===!1)},children:e.jsx("div",{className:v.hamburger})})]})})}const _s="_heroBackground_sovj4_4",Cs="_hero_sovj4_4",Ss="_heroLeft_sovj4_70",Ns="_heroRight_sovj4_78",Ls="_heroDemo_sovj4_84",Bs="_heroButtons_sovj4_92",oe={heroBackground:_s,"bg-scale":"_bg-scale_sovj4_1",hero:Cs,heroLeft:Ss,heroRight:Ns,heroDemo:Ls,heroButtons:Bs,"bg-animation":"_bg-animation_sovj4_1"},Ds="/assets/mock-demo-BDZOebah.png";function As(){return e.jsx("div",{className:oe.heroBackground,children:e.jsxs("section",{className:oe.hero,children:[e.jsxs("div",{className:oe.heroLeft,children:[e.jsx("h1",{children:"Open Source Website Analytic Toolkit For Developers"}),e.jsx("h4",{children:"OS Analytics is an open source, developer friendly tool for tracking the traffic and user interactions of any deployed application. Our goal is to give developers the tools they need to monitor user interactions without relying on third party products."}),e.jsxs("div",{className:oe.heroButtons,children:[e.jsx("button",{className:"button btn-primary btn-animated",children:"Create account"}),e.jsx("button",{className:"button btn-secondary btn-animated",children:"Documentation"})]})]}),e.jsx("div",{className:oe.heroRight,children:e.jsx("img",{className:oe.heroDemo,src:Ds,alt:"product demo"})})]})})}const Is="_footer_tpin8_1",Rs="_footerContent_tpin8_8",$s="_socialIcons_tpin8_14",Ts="_socialIcon_tpin8_14",Ws="_logo_tpin8_28",Ps="_listContainer_tpin8_34",Es="_list_tpin8_34",Os="_listLink_tpin8_51",D={footer:Is,footerContent:Rs,socialIcons:$s,socialIcon:Ts,logo:Ws,listContainer:Ps,list:Es,listLink:Os},ot=()=>e.jsxs("div",{className:D.footer,children:[e.jsxs("div",{className:D.footerContent,children:[e.jsxs("div",{className:D.socialIcons,children:[e.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:D.socialIcon,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e.jsx("a",{href:"https://github.com/oslabs-beta/ActivityTracker.io",target:"_blank",rel:"noopener noreferrer",className:D.socialIcon,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),e.jsx("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:D.socialIcon,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 0 0-4.8851-1.5152.0741.0741 0 0 0-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 0 0-.0785-.037 19.7363 19.7363 0 0 0-4.8852 1.515.0699.0699 0 0 0-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 0 0 .0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 0 0 .0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 0 0-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 0 1-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 0 1 .0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 0 1 .0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 0 1-.0066.1276 12.2986 12.2986 0 0 1-1.873.8914.0766.0766 0 0 0-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 0 0 .0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 0 0 .0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 0 0-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189z"})})}),e.jsx("a",{href:"https://youtube.com/",target:"_blank",rel:"noopener noreferrer",className:D.socialIcon,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.615 3.184c-1.231-.81-4.615-.81-4.615-.81s-3.384 0-4.615.81c-1.231.81-1.231 2.384-1.231 2.384s0 1.574 1.231 2.384c1.231.81 4.615.81 4.615.81s3.384 0 4.615-.81c1.231-.81 1.231-2.384 1.231-2.384s0-1.574-1.231-2.384zm-7.615 7.816v-5l4.5 2.5-4.5 2.5z"})})})]}),e.jsx("div",{className:D.listContainer,children:e.jsxs("ul",{className:D.list,children:[e.jsx("li",{children:e.jsx("a",{href:"https://www.opensourcelabs.io/",children:e.jsx("div",{className:D.listLink,children:"OSLabs"})})}),e.jsx("li",{children:e.jsx(y,{to:"/Readme.md",children:e.jsx("div",{className:D.listLink,children:"Readme"})})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.opensourcelabs.io/",children:e.jsx("div",{className:D.listLink,children:"Demo"})})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.patreon.com/",children:e.jsx("div",{className:D.listLink,children:"Patreon"})})})]})})]}),e.jsxs("div",{className:D.footerBottom,children:[e.jsx("hr",{className:D.footerLine}),e.jsx("div",{className:D.footerText,children:"@OSAnalytics.io"})]})]}),Fs="_navMobile_epn7w_1",Ms="_mobileLinks_epn7w_20",zs="_offScreenLeft_epn7w_24",Us="_mobileLink_epn7w_20",Ks="_dashboardLink_epn7w_47",N={navMobile:Fs,mobileLinks:Ms,offScreenLeft:zs,mobileLink:Us,dashboardLink:Ks};function ye(){const[s,t]=j($e),[a,i]=j(te);return e.jsx("div",{className:s?`${N.navMobile}`:`${N.navMobile} ${N.offScreenLeft}`,children:e.jsx("ul",{className:N.mobileLinks,children:a?e.jsxs(e.Fragment,{children:[e.jsx(y,{to:"/dashboard",onClick:()=>{t(!1)},children:e.jsx("li",{className:`${N.mobileLink} ${N.dashboardLink}`,children:e.jsx("h3",{children:"Dashboard"})})}),e.jsxs(y,{to:"/websites",onClick:()=>{t(!1)},children:["   ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Websites"})})]}),e.jsx(y,{to:"/documenation",onClick:()=>{t(!1)},children:e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Documentation"})})}),e.jsx(y,{to:"/settings",onClick:()=>{t(!1)},children:e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Settings"})})}),e.jsxs(y,{to:"/",onClick:()=>{t(!1),i("")},children:["  ",e.jsx("li",{className:`${N.mobileLink} ${N.dashboardLink}`,children:e.jsx("h3",{children:"Sign out"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(y,{to:"/",onClick:()=>{t(!1)},children:[" ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Home"})})]}),e.jsxs(y,{to:"/docs",onClick:()=>{t(!1)},children:[" ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Documentation"})})]}),e.jsxs(y,{to:"/signup",onClick:()=>{t(!1)},children:["   ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Create account"})})]}),e.jsxs(y,{to:"/team",onClick:()=>{t(!1)},children:[" ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Team"})})]}),e.jsxs(y,{to:"/login",onClick:()=>{t(!1)},children:["   ",e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Login"})})]}),e.jsx(y,{to:"/signin",children:e.jsx("li",{className:N.mobileLink,children:e.jsx("h3",{children:"Sign in"})})})]})})})}const Hs="_whyOSA_9j6fu_1",qs="_whyGrid_9j6fu_15",Gs="_whyItem_9j6fu_29",Ys="_iconBox_9j6fu_36",Vs="_whyIcon_9j6fu_43",S={whyOSA:Hs,whyGrid:qs,whyItem:Gs,iconBox:Ys,whyIcon:Vs},ge="/assets/graphs-Cv93Lcu1.png";function Zs(){return e.jsxs("section",{className:S.whyOSA,children:[e.jsx("h3",{style:{fontWeight:"600",color:"var(--black)"},children:"Why OS Analytics?"}),e.jsxs("div",{className:S.whyGrid,children:[e.jsxs("div",{className:S.whyItem,children:[e.jsx("div",{className:S.iconBox,children:e.jsx("img",{className:S.whyIcon,src:ge,alt:"chart-icon"})}),e.jsxs("div",{className:S.whyContentBox,children:[e.jsx("h3",{style:{fontWeight:"600",color:"var(--black)"},children:"Custom Attributes and Actions"}),e.jsx("p",{style:{color:"var(--gray-text"},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium consequuntur odit exercitationem."})]})]}),e.jsxs("div",{className:S.whyItem,children:[e.jsx("div",{className:S.iconBox,children:e.jsx("img",{className:S.whyIcon,src:ge,alt:"chart-icon"})}),e.jsxs("div",{className:S.whyContentBox,children:[e.jsx("h3",{style:{fontWeight:"600",color:"var(--black)"},children:"Custom Attributes and Actions"}),e.jsx("p",{style:{color:"var(--gray-text"},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium consequuntur odit exercitationem."})]})]}),e.jsxs("div",{className:S.whyItem,children:[e.jsx("div",{className:S.iconBox,children:e.jsx("img",{className:S.whyIcon,src:ge,alt:"chart-icon"})}),e.jsxs("div",{className:S.whyContentBox,children:[e.jsx("h3",{style:{fontWeight:"600",color:"var(--black)"},children:"Custom Attributes and Actions"}),e.jsx("p",{style:{color:"var(--gray-text"},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium consequuntur odit exercitationem."})]})]}),e.jsxs("div",{className:S.whyItem,children:[e.jsx("div",{className:S.iconBox,children:e.jsx("img",{className:S.whyIcon,src:ge,alt:"chart-icon"})}),e.jsxs("div",{className:S.whyContentBox,children:[e.jsx("h3",{style:{fontWeight:"600",color:"var(--black)"},children:"Custom Attributes and Actions"}),e.jsx("p",{style:{color:"var(--gray-text"},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium consequuntur odit exercitationem."})]})]})]})]})}function Qs(){return e.jsxs("div",{className:"viewNoSide",children:[e.jsx(se,{}),e.jsx(ye,{}),e.jsx(As,{}),e.jsx(Zs,{}),e.jsx(ot,{})]})}const Xs="_loginPage_k7u2l_1",Js="_login_k7u2l_1",ea="_loginBackground_k7u2l_24",ta="_oathButtons_k7u2l_35",sa="_loginBtn_k7u2l_42",aa="_google_k7u2l_46",oa="_github_k7u2l_50",ra="_loginCredentials_k7u2l_58",na="_createAccountQuery_k7u2l_65",C={loginPage:Xs,login:Js,loginBackground:ea,oathButtons:ta,loginBtn:sa,google:aa,github:oa,loginCredentials:ra,createAccountQuery:na},ia="_barContainer_12s4r_1",ca="_bar_12s4r_1",la="_red_12s4r_1",da="_blue_12s4r_1",ha="_yellow_12s4r_1",Z={barContainer:ia,bar:ca,red:la,blue:da,yellow:ha};function rt(){function s(){return Math.floor(Math.random()*80)+20}return e.jsxs("div",{className:Z.barContainer,children:[e.jsx("div",{style:{height:`${s()}%`},className:Z.bar,id:Z.red}),e.jsx("div",{style:{height:`${s()}%`},className:Z.bar,id:Z.blue}),e.jsx("div",{style:{height:`${s()}%`},className:Z.bar,id:Z.yellow})]})}function ua(){const[,s]=j(te),[t,a]=c.useState({email:"",password:""}),i=Ge();c.useEffect(()=>{const n=new URLSearchParams(window.location.search),l=n.get("token"),d=n.get("email");l&&d&&(localStorage.setItem("token",l),s(d),i("/dashboard"))},[]);function o(n){a({...t,[n.target.name]:n.target.value})}async function r(n){n.preventDefault();try{const l=await I.post(`${T}/api/auth/login`,t);s(l.data.email),localStorage.setItem("token",l.data.token)}catch(l){console.log(l.message)}finally{}}return e.jsxs("div",{className:"viewNoSide",children:[e.jsx(se,{}),e.jsx(ye,{}),e.jsxs("section",{className:C.loginPage,children:[e.jsxs("div",{className:C.login,children:[e.jsx("h2",{children:"Welcome back"}),e.jsxs("div",{className:C.oathButtons,children:[e.jsx("button",{className:` ${C.loginBtn} ${C.google} button`,onClick:()=>window.location.href=`${T}/api/google`,children:"Continue with Google"}),e.jsx("button",{className:`  ${C.loginBtn} ${C.github} button`,children:"Continue with GitHub"})]}),e.jsx(rt,{}),e.jsxs("form",{onSubmit:n=>r(n),className:C.loginCredentials,children:[e.jsx("input",{className:"input",type:"email",placeholder:"email",name:"email",value:t.email,onChange:n=>{o(n)},required:!0}),e.jsx("input",{className:"input",type:"password",minLength:6,placeholder:"password",value:t.password,name:"password",onChange:n=>{o(n)},required:!0}),e.jsx("button",{type:"submit",className:" button btn-primary",children:"Sign in"})]}),e.jsxs("div",{className:C.createAccountQuery,children:[e.jsx("p",{className:"white-secondary",children:"Don't have an account?"}),e.jsx("p",{children:e.jsx(y,{to:"/signup",children:"Sign up now"})})]}),e.jsx(y,{to:"/forgot-password",children:"Forgot Password?"})]}),e.jsx("div",{className:C.loginBackground})]})]})}function nt(){const[s,t]=j(te),[a,i]=j($e),o=async()=>{await at()&&t("")};return e.jsx("div",{className:v.navbar,children:e.jsxs("div",{className:v.navContainer,children:[e.jsx("div",{className:v.navLeftDash,children:s?e.jsxs("div",{className:v.navLinks,children:[e.jsx(y,{to:"/dashboard",children:e.jsx("span",{children:" Dashboard"})}),e.jsx(y,{to:"/docs",children:e.jsx("span",{children:"Documentation"})}),e.jsx(y,{to:"/settings",children:e.jsx("span",{children:"Settings"})}),e.jsx(y,{to:"/playground",children:e.jsx("span",{children:"Playground"})})]}):e.jsxs("div",{className:v.navLinks,children:[e.jsx(y,{to:"/docs",children:e.jsx("span",{children:"Documentation"})}),e.jsx(y,{to:"/signup",children:e.jsx("span",{children:"Getting Started"})}),e.jsx(y,{to:"/team",children:e.jsx("span",{children:"Team"})})]})}),e.jsx("div",{className:v.navRight,children:s?e.jsxs(e.Fragment,{children:[e.jsxs("a",{className:v.gitBox,href:"https://github.com/oslabs-beta/ActivityTracker.io",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"rgba(255, 255, 255, 0.87)",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),e.jsx("span",{children:"GitHub"})]}),e.jsx("span",{style:{color:"var(--white)",fontWeight:"500"},children:s.split("@")[0].toUpperCase()}),e.jsx(y,{to:"/",onClick:()=>{o()},children:e.jsx("button",{className:`button navButton btn-secondary btn-animated ${v.navButton}`,children:"Log out"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{to:"/login",children:e.jsx("button",{className:` navButton button btn-secondary btn-animated ${v.navButton}`,children:"Sign in"})}),e.jsx(y,{to:"/signup",children:e.jsx("button",{className:`button btn-primary btn-animated ${v.navButton}`,children:"Create account"})})]})}),e.jsx("div",{className:a?`${v.hamburgerBox} ${v.activeNav}`:`${v.hamburgerBox}`,onClick:()=>{i(a===!1)},children:e.jsx("div",{className:v.hamburger})})]})})}const ma="_dashboard_1srsz_1",xa="_sidebar_1srsz_10",pa="_sideLogo_1srsz_28",ga="_sideIcon_1srsz_32",fa="_logoBox_1srsz_35",ja="_sidebarLinks_1srsz_47",ba="_sidebarLink_1srsz_47",ya="_sidebarSpan_1srsz_68",va="_active_1srsz_80",wa="_timeframe_1srsz_84",A={dashboard:ma,sidebar:xa,sideLogo:pa,sideIcon:ga,logoBox:fa,sidebarLinks:ja,sidebarLink:ba,sidebarSpan:ya,active:va,timeframe:wa},ka="/assets/dashboard-Di_mOkye.png",_a="/assets/globe-C5PB0qU7.png";function it(){const[s]=j(ue),[,t]=j(me);return e.jsxs("div",{className:A.sidebar,children:[e.jsx(y,{to:"/",children:e.jsxs("div",{className:A.logoBox,children:[e.jsx("img",{className:A.sideLogo,src:tt,alt:"AT.io"}),e.jsx("h3",{children:"OS Analytics"})]})}),e.jsx("div",{className:A.websiteList,children:e.jsxs("ul",{className:A.websiteLinks,children:[e.jsx("li",{className:A.websiteItem,children:e.jsxs(Be,{to:"/dashboard/overview",className:A.sidebarLink,onClick:()=>t("overview"),children:[e.jsx("img",{className:A.sideIcon,src:ka,alt:"overview"}),e.jsx("span",{className:A.sidebarSpan,children:"Overview"})]})}),s.map((a,i)=>e.jsx("li",{className:A.websiteItem,children:e.jsxs(Be,{to:`/dashboard/${a}`,className:A.sidebarLink,onClick:()=>t(a),children:[e.jsx("img",{className:A.sideIcon,src:_a,alt:a}),e.jsx("span",{className:A.sidebarSpan,children:a})]})},i))]})})]})}async function ct(){const[,s]=j(G),[,t]=j(st),[,a]=j(ue),i=localStorage.getItem("token");c.useEffect(()=>{(async()=>{try{const r=await I.get(`${T}/api/data`,{headers:{Authorization:`Bearer ${i}`}});s(r.data);const n=new Set(r.data.map(d=>d.website_name));a(Array.from(n));const l=await I.get(`${T}/api/data/referral`,{headers:{Authorization:`Bearer ${i}`}});t(l.data)}catch(r){console.error("Error fetching data:",r)}})()},[s,t,a,i])}const Ca="_chartDisplay_1cqds_2",Sa="_chartBox_1cqds_19",z={chartDisplay:Ca,chartBox:Sa},ie=(s,t)=>{const a=[],i=new Date;for(let o=0;o<s.length;o++){const r=s[o],n=new Date(r.time||0);switch(t){case"1 day":i.getTime()-n.getTime()<=24*60*60*1e3&&a.push(r);break;case"1 week":i.getTime()-n.getTime()<=7*24*60*60*1e3&&a.push(r);break;case"1 month":i.getTime()-n.getTime()<=30*24*60*60*1e3&&a.push(r);break;case"1 year":i.getFullYear()===n.getFullYear()&&a.push(r);break;case"5 years":i.getFullYear()-n.getFullYear()<=5&&a.push(r);break;case"allTime":default:a.push(r);break}}return a},q=({chartRef:s,fileName:t="chart.png"})=>{const a=()=>{if(s.current){const i=s.current,o=document.createElement("a");o.href=i.toBase64Image(),o.download=t,o.click()}};return e.jsx(ne,{onClick:a,"aria-label":"download",children:e.jsx($t,{})})};X.register(de,he,Ye,Bt,Ae,J,ee,Dt);const lt=({data:s})=>{const[t]=j(K),a=ie(s,t),i=c.useRef(null),o={},r=(d,m)=>d.toLocaleDateString("en-US",m);for(let d=0;d<a.length;d++){const m=a[d],p=new Date(m.time||0);let x="";switch(t){case"1 day":x=`${p.getHours()}:00`;break;case"1 week":x=r(p,{weekday:"short"});break;case"1 month":x=r(p,{month:"short",day:"numeric"});break;case"1 year":x=`${p.getMonth()+1}/${p.getFullYear()}`;break;case"5 years":x=`${p.getFullYear()}`;break;case"allTime":x=r(p,{month:"short",year:"numeric"});break;default:x=p.toISOString();break}o[x]?o[x]+=1:o[x]=1}const n={labels:Object.keys(o),datasets:[{label:"Clicks over the selected timeframe",data:Object.values(o),fill:!0,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",tension:.1}]},l={responsive:!0,scales:{x:{ticks:{maxTicksLimit:7,autoSkip:!0}},y:{beginAtZero:!0}}};return e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,style:{textAlign:"center"},children:"Click Data Overview"}),e.jsx(_t,{ref:i,data:n,options:l}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:i})})]})};X.register(At,J,ee);const dt=({data:s,keyword:t,keywordTwo:a})=>{const[i]=j(K),o=c.useRef(null),r=c.useRef(null),n=ie(s,i),l={},d={};n.forEach(b=>{l[b[t]]=(l[b[t]]||0)+1,d[b[a]]=(d[b[a]]||0)+1});const m=Object.keys(l),p=Object.values(l),x=Object.keys(d),f=Object.values(d),u={labels:m,datasets:[{label:"Browsers",data:p,backgroundColor:["rgba(0, 122, 255, 0.3)","rgba(251, 188, 5, 0.3)","rgba(0, 82, 204, 0.3)","rgba(255, 69, 0, 0.3)"],borderColor:["rgba(0, 122, 255, 1)","rgba(251, 188, 5,1","rgba(0, 82, 204, 1)","rgba(255, 69, 0, 1)"],borderWidth:1}]},h={labels:x,datasets:[{label:"Operating Systems",data:f,backgroundColor:["rgba(0, 122, 255, 0.3)","rgba(251, 188, 5, 0.3)","rgba(0, 82, 204, 0.3)","rgba(255, 69, 0, 0.3)"],borderColor:["rgba(0, 122, 255, 1)","rgba(251, 188, 5, 1)","rgba(0, 82, 204, 1)","rgba(255, 69, 0, 1)"],borderWidth:1}]};return e.jsxs("div",{className:z.chartBox,style:{display:"flex",justifyContent:"space-around",padding:"20px"},children:[e.jsxs("div",{style:{width:"45%"},children:[e.jsx("h3",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:"User Browsers"}),e.jsx(Ct,{ref:r,data:h}),e.jsx("div",{style:{marginLeft:"120px"},children:e.jsx(q,{chartRef:r})})]}),e.jsxs("div",{style:{width:"45%"},children:[e.jsx("h3",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:"User Operating Systems"}),e.jsx(St,{ref:o,data:u}),e.jsx("div",{style:{marginLeft:"140px"},children:e.jsx(q,{chartRef:o})})]})]})};X.register(de,he,Ie,Ae,J,ee);const ht=({data:s,keyword:t})=>{const a=c.useRef(null),[i]=j(K),o=ie(s,i),r={};o.forEach(u=>{r[u[t]]?r[u[t]]+=1:r[u[t]]=1});const n=Object.keys(r),l=Object.values(r),d=["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)"],m=n.map((u,h)=>d[h%d.length]),p=n.map((u,h)=>d[h%d.length].replace("0.8","1")),x={labels:n,datasets:[{label:"Clicks",data:l,backgroundColor:m,borderColor:p,borderWidth:3,borderRadius:5}]},f={scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1},title:{display:!0,text:`Clicks Per ${t==="page_url"?"Page URLS":"Website"}`,color:"black",font:{weight:400,size:20}}}};return e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx(De,{ref:a,data:x,options:f}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:a})})]})},ut=()=>{const[s,t]=c.useState(!1),[a,i]=c.useState(!1),[o,r]=c.useState([]),[n,l]=c.useState([]),[d,m]=c.useState(!1),[p]=j(K),[x]=j(me),f=localStorage.getItem("token"),u=Tt({typography:{fontFamily:"'Roboto Mono', monospace"}});c.useEffect(()=>{if(o.length>0){let g=0,w=-1;l([]),m(!1);const R=()=>{g<o.length&&w<=o[g].length&&(l(L=>{var H;const W=[...L];return W[g]||(W[g]=""),W[g]+=((H=o[g])==null?void 0:H[w])||"",W}),w++,w>=o[g].length&&(g++,w=0),g<o.length?setTimeout(R,5):m(!0))};R()}},[o]);const h=async()=>{m(!1),l([]),t(!0);try{const g=await I.post(`${T}/api/ai/bedrock`,{timeFrame:p,website:x},{headers:{Authorization:`Bearer ${f}`}});r(g.data.results[0].outputText.split(`
`))}catch(g){r([g.response.data.message])}t(!1),i(!0)},b=()=>{const g=new Blob([o.join(`
`)],{type:"text/plain"}),w=document.createElement("a");w.href=URL.createObjectURL(g),w.download=`ai-response-log-${new Date().toISOString()}.txt`,w.click(),URL.revokeObjectURL(w.href)};return e.jsx(Wt,{theme:u,children:e.jsxs(k,{className:z.chartBox,sx:{color:"red",overflowY:"auto",minHeight:"400px",width:"100%",placeContent:"start",border:"1px solid var(--blue-secondary)",padding:"20px",background:"transparent"},children:[e.jsx(F,{id:"ai",variant:"contained",onClick:h,disabled:s,style:s?{backgroundColor:"var(--blue-primary",width:"100%"}:{backgroundColor:`${a?"var(--blue-primary":"var(--blue-primary)"}`,width:"100%"},sx:{textTransform:"none",fontSize:"16px",padding:"1rem 2rem",height:"3.2rem",display:"flex",borderRadius:"8px",color:"var(--white)",fontFamily:"'Roboto Mono', monospace"},children:s?e.jsx(Re,{size:24,color:"primary"}):`${a?"AI Response":"Get AI Response"}`}),e.jsxs(le,{sx:{mt:3},children:[n.length===0&&!s&&e.jsx(Pe,{sx:{padding:0},children:e.jsx(re,{primary:"Enter your AWS credentials to begin.",sx:{padding:"5px 0",margin:0,fontFamily:"'Roboto Mono', monospace !important",color:"#bfbfbf"}})}),n.map((g,w)=>e.jsx(Pe,{sx:{padding:0},children:e.jsx(re,{primary:g,sx:{padding:"5px 0",margin:0,fontFamily:"'Roboto Mono', monospace !important",color:"black"}})},w))]}),d&&a&&e.jsx(F,{variant:"contained",onClick:b,sx:{marginTop:"20px",textTransform:"none",fontSize:"16px",padding:"1rem 2rem",width:"100%",height:"3.2rem",display:"flex",borderRadius:"8px",backgroundColor:"var(--orange-primary)",color:"var(--white)","&:hover":{backgroundColor:"var(--orange-primary)"},fontFamily:"'Roboto Mono', monospace"},children:"Save Log"})]})})},Na=s=>{let t="Unknown Browser",a="Unknown OS";return s.includes("Chrome")?t="Chrome":s.includes("Firefox")?t="Firefox":s.includes("Safari")&&!s.includes("Chrome")?t="Safari":s.includes("Edge")&&(t="Edge"),s.includes("Windows NT 10.0")?a="Windows 10":s.includes("Windows NT 6.1")?a="Windows 7":s.includes("Mac OS X")&&!s.includes("Mobile")?a="macOS":s.includes("iPhone")||s.includes("iPad")?a="iOS":s.includes("Android")?a="Android":s.includes("Linux")&&!s.includes("Android")&&(a="Linux"),{browser:t,os:a}},Te=s=>s.map(t=>{const{browser:a,os:i}=Na(t.user_browser);return{element:t.element,dataset_id:t.dataset_id,x_coord:t.x_coord,y_coord:t.y_coord,time:t.created_at,user_browser:a,website:t.website_name,user_os:i,page_url:t.page_url}});X.register(It,J,ee,Rt);const mt=({data:s,keyword:t,keywordTwo:a})=>{const[i]=j(K),o=c.useRef(null),r=["Chrome","Firefox","Safari","Edge"],n=ie(s,i),l={};n.forEach(p=>{const x=p[t],f=p[a];l[x]||(l[x]={Chrome:0,Firefox:0,Safari:0,Edge:0}),r.includes(f)&&(l[x][f]+=1)});const d=Object.keys(l).map(p=>({label:p,data:r.map(x=>l[p][x]||0),backgroundColor:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.2)`,borderColor:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 1)`,borderWidth:1})),m={labels:r,datasets:d};return e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx("h3",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:"Website Clicks by Browser"}),e.jsx(Nt,{ref:o,data:m}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:o})})]})};X.register(de,he,Ie,J,ee);const xt=({data:s,keyword:t,keywordTwo:a})=>{const[i]=j(K),o=c.useRef(null),r=ie(s,i),n={};r.forEach(u=>{const h=u[a],b=u[t];n[h]||(n[h]={}),n[h][b]=(n[h][b]||0)+1});const l=Object.keys(n),d=Array.from(new Set(r.map(u=>u[t]))),m={Chrome:"rgba(251, 188, 5, 0.5)",Firefox:"rgba(255, 69, 0, 0.5)",Safari:"rgba(0, 122, 255, 0.5)",Edge:"rgba(0, 82, 204, 0.5)"},p=d.map(u=>({label:u,data:l.map(h=>n[h][u]||0),backgroundColor:m[u],borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1})),x={labels:l,datasets:p},f={responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}};return e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx("h3",{style:{color:"white",textAlign:"center",marginBottom:"20px"},children:"Browser Usage by Operating System"}),e.jsx(De,{ref:o,data:x,options:f}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:o})})]})},La=()=>{const[s]=j(G),t=Te(s);return e.jsxs("div",{className:z.chartDisplay,children:[e.jsx(lt,{data:t}),e.jsx(dt,{data:t,keyword:"user_browser",keywordTwo:"user_os"}),e.jsx(ht,{data:t,keyword:"website"}),e.jsx(mt,{data:t,keyword:"website",keywordTwo:"user_browser"}),e.jsx(xt,{data:t,keyword:"user_browser",keywordTwo:"user_os"}),e.jsx(ut,{})]})},Ba=(s,t)=>{const a=[],i=new Date;for(let o=0;o<s.length;o++){const r=s[o],n=new Date(r.created_at||0);switch(t){case"1 day":i.getTime()-n.getTime()<=24*60*60*1e3&&a.push(r);break;case"1 week":i.getTime()-n.getTime()<=7*24*60*60*1e3&&a.push(r);break;case"1 month":i.getTime()-n.getTime()<=30*24*60*60*1e3&&a.push(r);break;case"1 year":i.getFullYear()===n.getFullYear()&&a.push(r);break;case"5 years":i.getFullYear()-n.getFullYear()<=5&&a.push(r);break;case"allTime":default:a.push(r);break}}return a};X.register(de,he,Ie,Ae,J,ee);const Da=({data:s})=>{const t=c.useRef(null),[a]=j(K),i=Ba(s,a),o={};i.forEach(u=>{o[u.referrer]?o[u.referrer]+=1:o[u.referrer]=1});const r=Object.entries(o).sort(([,u],[,h])=>h-u).slice(0,8),n=r.map(([u])=>u),l=r.map(([,u])=>u),d=["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)"],m=n.map((u,h)=>d[h%d.length]),p=n.map((u,h)=>d[h%d.length].replace("0.8","1")),x={labels:n,datasets:[{label:"Referrals",data:l,backgroundColor:m,borderColor:p,borderWidth:3,borderRadius:5}]},f={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1},title:{display:!0,text:"Top referrals",color:"white",font:{size:20}}}};return e.jsx("div",{children:e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx(De,{ref:t,data:x,options:f}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:t})})]})})};X.register(de,he,Ye,J,ee);const Aa=({data:s})=>{const[t]=j(K),a=c.useRef(null),o={datasets:[{label:"User Clicks",data:ie(s,t).map(n=>({x:n.x_coord,y:n.y_coord})),backgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(75,192,192,1)",pointRadius:5}]},r={scales:{x:{min:0,max:1,title:{display:!0,text:"X Coordinate (0-1)"}},y:{min:0,max:1,reverse:!0,title:{display:!0,text:"Y Coordinate (0-1)"}}}};return e.jsxs("div",{className:z.chartBox,style:{padding:"20px",margin:"auto",textAlign:"center"},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,style:{textAlign:"center"},children:"Click Scatter Plot"}),e.jsx(Lt,{ref:a,data:o,options:r}),e.jsx("div",{style:{marginLeft:"620px"},children:e.jsx(q,{chartRef:a})})]})},Ia=({pageUrl:s})=>{const[t,a]=c.useState(null),i=s,o=localStorage.getItem("token");return c.useEffect(()=>{s!==""&&(async()=>{await console.log(i);try{const n=await I.get(`${T}/api/screenshot?url=${i}`,{headers:{Authorization:`Bearer ${o}`},responseType:"arraybuffer"}),d=`data:image/png;base64,${btoa(new Uint8Array(n.data).reduce((m,p)=>m+String.fromCharCode(p),""))}`;a(d)}catch(n){console.error("Error fetching image:",n)}})()},[s]),e.jsx("div",{children:t?e.jsx("img",{src:t,alt:"Screenshot",style:{height:"720px",width:"1280px",margin:0,padding:0}}):e.jsx("p",{children:"Loading image..."})})},Ra=({data:s})=>{const[i,o]=c.useState("");return c.useEffect(()=>{var m;const r=s.map(p=>({x:Math.round(p.x_coord*1280),y:Math.round(p.y_coord*720),value:1,radius:10}));document.querySelector(".heatmap-canvas")&&((m=document.querySelectorAll(".heatmap-canvas"))==null||m.forEach(p=>p.remove()));const n=document.querySelector(".heatmapContainer"),l=as.create({container:n}),d={min:1,max:1,data:r};l.setData(d),s.length>0&&o(s[0].page_url)},[s]),e.jsxs("div",{children:[e.jsx("h1",{style:{display:"flex",justifyContent:"center",marginBottom:"5px"},children:" Website Heatmap "}),e.jsx("div",{className:"heatmapContainer",style:{height:"720px",width:"1280px"},children:e.jsx(Ia,{pageUrl:i})})]})},$a=()=>{const[s]=j(vs),t=Te(s),[a]=j(ws);return e.jsxs("div",{className:z.chartDisplay,children:[e.jsx(ht,{data:t,keyword:"page_url"}),e.jsx(Aa,{data:t}),e.jsx(lt,{data:t}),e.jsx(dt,{data:t,keyword:"user_browser",keywordTwo:"user_os"}),e.jsx(mt,{data:t,keyword:"page_url",keywordTwo:"user_browser"}),e.jsx(xt,{data:t,keyword:"user_browser",keywordTwo:"page_url"}),e.jsx(Da,{data:a}),e.jsx(ut,{}),e.jsx(Ra,{data:t})]})},Ta=()=>{const[s,t]=j(K);return e.jsx(k,{className:A.timeframe,sx:{display:"flex",alignItems:"center",mb:4},children:e.jsx(je,{fullWidth:!0,variant:"outlined",children:e.jsxs(be,{value:s,onChange:a=>t(a.target.value),children:[e.jsx($,{value:"1 day",children:"Last 24 Hours"}),e.jsx($,{value:"1 week",children:"Last Week"}),e.jsx($,{value:"1 month",children:"This Month"}),e.jsx($,{value:"1 year",children:"1 year"}),e.jsx($,{value:"5 years",children:"5 years"}),e.jsx($,{value:"allTime",children:"All time"})]})})})},Wa="_ClickLog_1fpgd_1",Pa="_ClickLogItem_1fpgd_30",Ea="_ClickLogItems_1fpgd_37",Oa="_textRight_1fpgd_51",Fa="_noWrap_1fpgd_55",O={ClickLog:Wa,ClickLogItem:Pa,ClickLogItems:Ea,textRight:Oa,noWrap:Fa};function Ma({item:s}){const[t,a]=c.useState(""),[i,o]=c.useState("");return c.useEffect(()=>{const n=new Date(s.time).toLocaleString().split(" ");a(n[0].slice(0,-1)),o(n[1]+" "+n[2])},[]),e.jsxs("tr",{className:O.ClickLogItem,children:[e.jsx("td",{className:O.noWrap,children:t}),e.jsx("td",{className:O.noWrap,children:i}),e.jsx("td",{className:O.noWrap,children:"click"}),e.jsx("td",{className:O.noWrap,children:s.element+" "+s.dataset_id}),e.jsx("td",{className:O.noWrap,children:s.user_browser.slice(0,7)}),e.jsx("td",{className:O.noWrap,children:s.user_os}),e.jsx("td",{className:O.noWrap,children:s.website})]})}function za(){const[s]=j(G),t=Te(s);let a=[];function i(){for(let o=0;o<10;o++)a.push(e.jsx(Ma,{item:t[o]},o))}return i(),e.jsxs("div",{className:O.ClickLog,children:[e.jsx("div",{className:"admin-header",children:e.jsx("h2",{children:"Recent User Interacitons"})}),e.jsxs("table",{className:O.ClickLogItems,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Interaction"}),e.jsx("th",{children:"Element"}),e.jsx("th",{children:"Browser"}),e.jsx("th",{children:"OS"}),e.jsx("th",{children:"Website"})]})}),e.jsx("tbody",{children:a})]})]})}function Ua(){const[s,t]=j(me),{id:a}=wt();return t(a),e.jsxs("section",{id:"dashboard-section",className:A.dashboard,children:[e.jsx(Ta,{}),e.jsx(za,{}),e.jsx("div",{children:s==="overview"?e.jsx(La,{}):e.jsx($a,{})})]})}const Ka="_viewNoSide_72uaq_1",Ha="_sectionWrapper_72uaq_9",qa="_docs_72uaq_17",Ga="_docStep_72uaq_23",Ya="_codeBlock_72uaq_29",U={viewNoSide:Ka,sectionWrapper:Ha,docs:qa,docStep:Ga,codeBlock:Ya},pt=()=>e.jsxs("div",{className:"viewWithSide",children:[e.jsx(nt,{}),e.jsx(it,{}),e.jsx("div",{className:U.sectionWrapper,children:e.jsxs("section",{className:U.docs,children:[e.jsx(_,{variant:"h3",className:"fw-600",children:"Getting Started"}),e.jsx("br",{}),e.jsxs(k,{className:U.docStep,mb:4,p:2,border:1,borderRadius:4,children:[e.jsx(_,{variant:"h4",className:"fw-600",children:"Step 1: Installation"}),e.jsxs(_,{variant:"body1",children:[e.jsx("br",{}),"Install ",e.jsx("strong",{children:"os-analytics"})," via terminal:"]}),e.jsx(Ne,{language:"bash",style:Le,className:U.codeBlock,children:"npm install os-analytics"})]}),e.jsxs(k,{className:U.docStep,mb:4,p:2,border:1,borderRadius:4,children:[e.jsx(_,{variant:"h4",className:"fw-600",children:"Step 2: Integrate the Custom Hook"}),e.jsxs(_,{variant:"body1",children:[e.jsx("br",{}),"At the top level of your React app, add the ",e.jsx("strong",{children:"clickTracker"})," hook:"]}),e.jsx(Ne,{language:"javascript",style:Le,className:U.codeBlock,children:`
  import clickTracker from 'os-analytics';

  const apiKey = '2e0397b7-6cda-4806-8762-136d4a4591af'; // Example API key
  const website = 'test.com';

  clickTracker(apiKey, website); // Initialize tracking
              `})]}),e.jsxs(k,{className:U.docStep,mb:4,p:2,border:1,borderRadius:4,children:[e.jsx(_,{variant:"h4",className:"fw-600",children:"Step 3: Example Integration"}),e.jsx("br",{}),e.jsx(_,{variant:"body1",children:"Here's a typical React integration:"}),e.jsx(Ne,{language:"javascript",style:Le,className:U.codeBlock,children:`
  import clickTracker from 'os-analytics';

  function App() {
    const apiKey = '2e0397b7-6cda-4806-8762-136d4a4591af'; // Example API key
    const website = 'test.com';

    clickTracker(apiKey, website); // Initialize tracking

    return (
      <div className="app">
        <h1>OS Analytics Demo</h1>
        <div className="button-row">
          <HeatButton name="Button 1" />
          <HeatButton name="Button 2" />
          <HeatButton name="Button 3" />
        </div>
      </div>
    );
  }

  export default App;
              `})]}),e.jsxs(k,{className:U.docStep,mb:4,p:2,border:1,borderRadius:4,children:[e.jsx(_,{variant:"h4",className:"fw-600",children:"Step 4: Testing Your Integration"}),e.jsxs(_,{variant:"body1",children:[e.jsx("br",{}),"After adding the hook, interact with your website to trigger click events. Verify your data in the ",e.jsx("strong",{children:"OS Analytics"})," dashboard."]}),e.jsx(_,{variant:"body1",children:"Once confirmed, you're ready to deploy! Your data will be collected in real-time, even in production. Use the dashboardâ€™s filters to analyze or export your data for reporting."})]})]})})]});function Va(){ct();const[s]=j(G);return e.jsx("div",{children:s.length===0?e.jsx(pt,{}):e.jsx(e.Fragment,{children:e.jsx(Ua,{})})})}function Za(){return e.jsxs("div",{className:"viewWithSide",children:[e.jsx(nt,{}),e.jsx(ye,{}),e.jsx(it,{}),e.jsx(Va,{}),e.jsx(ot,{})]})}const Qa="_container_aoa9a_1",Xa="_heading_aoa9a_10",Ja="_link_aoa9a_18",eo="_bounce_aoa9a_1",Ke={container:Qa,heading:Xa,link:Ja,bounce:eo};function to(){return e.jsxs("div",{className:Ke.notFound,children:[e.jsx("h1",{className:Ke.heading,children:"404 - Page not found "}),e.jsxs(y,{to:"/",children:[" ",e.jsx("p",{children:" Would you like to go back to the home page? "})]})]})}function so(){const[,s]=j(te),[t,a]=c.useState({email:"",password:"",confirmPassword:""});function i(r){a({...t,[r.target.name]:r.target.value})}async function o(r){r.preventDefault();try{const n=await I.post(`${T}/api/auth/signup`,t);s(n.data.email),localStorage.setItem("token",n.data.token)}catch(n){console.log(n.message)}}return e.jsxs("div",{className:"viewNoSide",children:[e.jsx(se,{}),e.jsx(ye,{}),e.jsxs("section",{className:C.loginPage,children:[e.jsxs("div",{className:C.login,children:[e.jsx("h2",{children:"Create Account"}),e.jsxs("div",{className:C.oathButtons,children:[e.jsx("button",{className:`button ${C.loginBtn} ${C.google}`,onClick:()=>window.location.href=`${T}/api/google`,children:"Continue with Google"}),e.jsx("button",{className:`button ${C.loginBtn} ${C.github}`,children:"Continue with GitHub"})]}),e.jsx(rt,{}),e.jsxs("form",{onSubmit:r=>o(r),className:C.loginCredentials,children:[e.jsx("input",{className:"input",type:"email",placeholder:"email",name:"email",value:t.email,onChange:r=>{i(r)},required:!0}),e.jsx("input",{className:"input",type:"password",minLength:6,placeholder:"password",value:t.password,name:"password",onChange:r=>{i(r)},required:!0}),e.jsx("input",{className:"input",type:"password",minLength:6,placeholder:"confirm password",value:t.confirmPassword,name:"confirmPassword",onChange:r=>{i(r)},required:!0}),e.jsx("button",{type:"submit",className:"button btn-primary",children:"Create account"})]}),e.jsx("div",{className:C.createAccountQuery})]}),e.jsx("div",{className:C.loginBackground})," "]})]})}const ao=async s=>{try{return(await I.get("/api/auth/getApiKey",{headers:{Authorization:`Bearer ${s}`}})).data.apiKey}catch(t){throw console.error("Error fetching API key:",t),t}},oo=async s=>{try{const t=await I.delete("/api/auth/apiKey",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(t.status===200)return t.status===200;console.error("Failed to delete API key")}catch(t){console.error("Error deleting API key: ",t)}},ro=async s=>{try{const t=await I.put("/api/auth/apiKey",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(t.status===200){const{apiKey:a}=t.data;return a}else console.error("Failed to regenerate API key")}catch(t){console.error("Error regenerating API key: ",t)}},no=s=>{const[t,a]=c.useState("");return c.useEffect(()=>{(async()=>{try{const n=await ao(s);a(n)}catch(n){console.error("Failed to fetch API key:",n)}})()},[s]),{apiKey:t,setApiKey:a,deleteApiKey:async()=>{try{await oo(s)&&a("")}catch(r){console.error("Error deleting API key: ",r)}},regenerateApiKey:async()=>{try{const r=await ro(s);if(r)return a(r),r}catch(r){console.error("Error regenerating API key: ",r)}}}},fe=({open:s,onClose:t,onConfirm:a,title:i,description:o})=>e.jsxs(Pt,{open:s,onClose:t,children:[e.jsx(Et,{children:i}),e.jsx(Ot,{children:e.jsx(Ft,{children:o})}),e.jsxs(Mt,{children:[e.jsx(F,{onClick:t,color:"primary",children:"No"}),e.jsx(F,{onClick:a,color:"secondary",children:"Yes"})]})]}),io=({data:s})=>{const[t,a]=c.useState(!1),[i,o]=c.useState(!1),r=()=>{a(!t)},n=()=>{o(!0),setTimeout(()=>{o(!1)},1e3)};return e.jsxs(k,{sx:{position:"relative",width:"450px"},children:[e.jsx(Q,{type:t?"text":"password",value:s?t?s:"*************************************************":"",InputProps:{readOnly:!0,sx:{background:"none",color:"#333333","& .MuiOutlinedInput-notchedOutline":{borderColor:"#333333"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#333333"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#333333"}}},variant:"outlined",size:"small",fullWidth:!0}),e.jsxs(k,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",display:"flex",gap:1,pr:1},children:[e.jsx(ne,{onClick:r,sx:{color:"black","&:focus":{outline:"none",boxShadow:"none"}},children:t?e.jsx(zt,{fontSize:"small",sx:{color:"#333333"}}):e.jsx(Ut,{fontSize:"small",sx:{color:"#333333"}})}),e.jsx(os.CopyToClipboard,{text:s,onCopy:n,children:e.jsx(ne,{size:"small",sx:{color:"white","&:focus":{outline:"none",boxShadow:"none"}},children:i?e.jsx(Kt,{fontSize:"small",sx:{color:"black"}}):e.jsx(Ht,{fontSize:"small",sx:{color:"#333333"}})})})]})]})},co=({apiKey:s,onDelete:t,onRegenerate:a})=>e.jsxs(k,{mb:4,children:[e.jsx(_,{variant:"h6",children:"Secret API key:"}),e.jsxs(k,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(io,{data:s}),e.jsx(ne,{color:"primary",onClick:a,sx:{ml:2},children:e.jsx(qt,{})}),e.jsx(ne,{color:"error",onClick:t,sx:{ml:1},children:e.jsx(Ve,{})})]})]}),lo=({websites:s,selectedWebsite:t,loading:a,onSelectWebsite:i,onDelete:o})=>e.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsxs(je,{fullWidth:!0,variant:"outlined",children:[e.jsx(_,{variant:"h6",gutterBottom:!0,children:"Select a Website to Delete"}),e.jsxs(be,{value:t,onChange:r=>i(r.target.value),displayEmpty:!0,children:[e.jsx($,{value:"",children:e.jsx("em",{children:"Select a website"})}),s.map((r,n)=>e.jsx($,{value:r,children:r},n))]})]}),e.jsx(ne,{color:"secondary",onClick:o,disabled:!t||a,sx:{ml:2,marginTop:"35px"},children:a?e.jsx(Re,{size:24}):e.jsx(Ve,{})})]}),ho=async(s,t)=>{try{return(await I.delete(`${T}/api/data/delete-website`,{headers:{Authorization:`Bearer ${t}`},data:{website_name:s}})).status===200}catch(a){throw console.error("Error deleting website:",a),a}},uo=async s=>{try{return(await I.delete(`${T}/api/auth/delete-account`,{headers:{Authorization:`Bearer ${s}`}})).status===200}catch(t){throw console.error("Error deleting account:",t),t}},mo=()=>{const[s,t]=c.useState(""),[a,i]=c.useState(""),[o,r]=c.useState(""),[n,l]=c.useState(!1),[d,m]=c.useState(null),[p,x]=c.useState(null),f=async u=>{if(u.preventDefault(),l(!0),m(null),!s||!a||!o){x("error"),m("AWS Client Key, Secret Key, and Region are all required."),l(!1);return}const h=localStorage.getItem("token");try{await I.put("/api/auth/awsCredentials",{awsClientKey:s,awsSecretKey:a,awsRegion:o},{headers:{Authorization:`Bearer ${h}`}}),t(""),i(""),r(""),x("success"),m("AWS Credentials saved successfully!")}catch(b){x("error"),m("Error saving credentials. Please try again."),console.error("Error saving credentials:",b)}finally{l(!1)}};return e.jsxs(k,{children:[e.jsx(se,{}),e.jsxs(k,{sx:{width:"100%",maxWidth:"400px",margin:"0 auto",marginTop:"30px"},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,align:"center",children:"AWS Credentials"}),d&&e.jsx(Gt,{severity:p,sx:{mb:2},children:d}),e.jsx(k,{sx:{mb:2},children:e.jsx(Q,{fullWidth:!0,label:"AWS Client Key",variant:"outlined",type:"password",value:s,onChange:u=>t(u.target.value)})}),e.jsx(k,{sx:{mb:2},children:e.jsx(Q,{fullWidth:!0,variant:"outlined",label:"AWS Secret Key",type:"password",value:a,onChange:u=>i(u.target.value)})}),e.jsx(k,{sx:{mb:2},children:e.jsxs(je,{fullWidth:!0,children:[e.jsx(Ze,{children:"AWS Region"}),e.jsxs(be,{value:o,onChange:u=>r(u.target.value),label:"AWS Region",children:[e.jsx($,{value:"us-east-1",children:"US East 1 (N. Virginia)"}),e.jsx($,{value:"us-west-2",children:"US West 2 (Oregon)"})]})]})}),e.jsx(F,{variant:"contained",color:"primary",fullWidth:!0,onClick:f,disabled:n,children:n?e.jsx(Re,{size:24}):"Save Credentials"})]})]})},xo=()=>{const[s]=j(te),[t,a]=j(ue),[i,o]=c.useState(""),[r,n]=c.useState(!1),[l,d]=c.useState(!1),[m,p]=c.useState(!1),[x,f]=c.useState(!1),[u,h]=c.useState(!1),[b,g]=c.useState(0),w=localStorage.getItem("token"),{apiKey:R,setApiKey:L,deleteApiKey:W,regenerateApiKey:H}=no(w),Y=async()=>{if(i){n(!0);try{await ho(i,w)&&(a(P=>P.filter(xe=>xe!==i)),o(""))}finally{n(!1),d(!1)}}},ve=async()=>{n(!0);try{await uo(w)&&(localStorage.removeItem("token"),window.location.href="/login")}finally{n(!1),p(!1)}},We=async()=>{await W(),f(!1)},we=async()=>{h(!1);const ae=await H();ae&&L(ae)},ke=(ae,P)=>{g(P)};return e.jsxs(k,{sx:{backgroundColor:"#f5f5f5",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",minHeight:"100vh",minWidth:"100vw"},children:[e.jsx(se,{}),e.jsx(k,{sx:{width:"100%",maxWidth:"600px",margin:"0 auto"},children:e.jsxs(Yt,{sx:{padding:"2rem",backgroundColor:"#ffffff",borderRadius:"12px"},children:[e.jsx(_,{variant:"h4",gutterBottom:!0,align:"center",children:"Settings"}),e.jsxs(Vt,{value:b,onChange:ke,indicatorColor:"primary",textColor:"primary",centered:!0,children:[e.jsx(Ee,{label:"General Settings"}),e.jsx(Ee,{label:"AWS Configuration"})]}),b===0&&e.jsxs(k,{children:[e.jsxs(k,{sx:{mb:2},children:[e.jsx(_,{variant:"h6",children:"Email"}),e.jsx(Q,{fullWidth:!0,variant:"outlined",value:s,disabled:!0,sx:{"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"#333333"}}})]}),e.jsx(co,{apiKey:R,onDelete:()=>f(!0),onRegenerate:()=>h(!0)}),e.jsx(lo,{websites:t,selectedWebsite:i,loading:r,onSelectWebsite:o,onDelete:()=>d(!0)}),e.jsx(_,{variant:"h6",sx:{color:"#d32f2f"},children:"D A N G E R"}),e.jsx(F,{variant:"outlined",color:"error",onClick:()=>p(!0),disabled:r,fullWidth:!0,children:"Delete Account"})]}),b===1&&e.jsx(k,{children:e.jsx(mo,{})}),e.jsx(fe,{open:x,onClose:()=>f(!1),onConfirm:We,title:"Confirm Delete API Key",description:"Are you sure you want to delete your API key?"}),e.jsx(fe,{open:u,onClose:()=>h(!1),onConfirm:we,title:"Confirm Regenerate API Key",description:"Are you sure you want to regenerate your API key?"}),e.jsx(fe,{open:l,onClose:()=>d(!1),onConfirm:Y,title:"Confirm Delete Website",description:`Are you sure you want to delete the website "${i}"?`}),e.jsx(fe,{open:m,onClose:()=>p(!1),onConfirm:ve,title:"Confirm Delete Account",description:"Are you sure you want to delete your account? This action cannot be undone."})]})})]})};function po(){const[s,t]=c.useState(""),[a,i]=c.useState(""),[o,r]=c.useState(""),[n,l]=c.useState(!1),d=Ge(),m=async x=>{x.preventDefault();try{await I.post(`${T}/api/auth/forgot-password`,{email:s}),alert("Password reset code sent to your email."),l(!0)}catch(f){console.error(f.message),alert("Error in sending password reset code.")}},p=async x=>{x.preventDefault();try{await I.post(`${T}/api/auth/confirm-password`,{email:s,code:a,newPassword:o}),alert("Password reset successful. You can now log in with your new password."),l(!1),t(""),i(""),r(""),d("/login")}catch(f){console.error(f.message),alert("Error in resetting password.")}};return e.jsxs(k,{sx:{paddingTop:"50px"},children:[e.jsx(se,{}),e.jsx(Zt,{sx:{maxWidth:400,margin:"0 auto",mt:20},children:e.jsxs(Qt,{children:[e.jsx(_,{variant:"h5",component:"div",gutterBottom:!0,children:"Forgot Password"}),e.jsx(_,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:n?"Enter the code you received and your new password":"Enter your email to receive a reset code"}),n?e.jsxs(k,{component:"form",onSubmit:p,sx:{mt:2},children:[e.jsx(Q,{fullWidth:!0,label:"Reset Code",variant:"outlined",value:a,onChange:x=>i(x.target.value),required:!0,margin:"normal"}),e.jsx(Q,{fullWidth:!0,label:"New Password",variant:"outlined",type:"password",value:o,onChange:x=>r(x.target.value),required:!0,margin:"normal"}),e.jsx(F,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},children:"Reset Password"})]}):e.jsxs(k,{component:"form",onSubmit:m,sx:{mt:2},children:[e.jsx(Q,{fullWidth:!0,label:"Email",variant:"outlined",type:"email",value:s,onChange:x=>t(x.target.value),required:!0,margin:"normal"}),e.jsx(F,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},children:"Send Reset Code"})]})]})})]})}const go=({selectedWebsite:s,selectedPage:t})=>{const[a]=j(G),[i,o,r]=Qe([]),[n,l,d]=Xe([]),m=1980,p=1080;return c.useEffect(()=>{if(!s||!t){o([]),l([]);return}const x=a.filter(b=>b.dataset_id!==null&&b.website_name===s&&b.page_url===t),f={};x.forEach(b=>{const g=b.dataset_id;f[g]||(f[g]={dataset_id:b.dataset_id,x_coord:b.x_coord,y_coord:b.y_coord,count:0}),f[g].count+=1});const u={id:"page",data:{label:t},position:{x:0,y:0},style:{width:`${m}px`,height:`${p}px`,backgroundColor:"#ffffff",border:"2px solid #000",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",fontWeight:"bold",color:"#333",zIndex:-1}},h=Object.keys(f).map(b=>{const{x_coord:g,y_coord:w,count:R}=f[b];console.log(g);const L=g*m,W=w*p;return{id:b,data:{label:`Button (${R} presses)`},position:{x:L,y:W},style:{backgroundColor:`rgba(255, 0, 0, ${Math.min(R/10,1)})`,borderRadius:"8px",padding:"10px 20px",color:"#fff",border:"2px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)"}}});o([u,...h]),l([])},[a,s,t,o,l]),e.jsx("div",{style:{display:"flex",width:"100vw",height:"100vh",backgroundColor:"#f0f0f0",overflow:"hidden"},children:e.jsx(Je,{nodes:i,edges:n,onNodesChange:r,onEdgesChange:d,fitView:!0,fitViewOptions:{padding:.2,minZoom:.5,maxZoom:.8},children:e.jsx(et,{color:"#aaa",gap:16})})})},He=150,qe=50,fo=(s,t,a="TB")=>{const i=new Ue.graphlib.Graph;return i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:a}),s.forEach(o=>{i.setNode(o.id,{width:He,height:qe})}),t.forEach(o=>{i.setEdge(o.source,o.target)}),Ue.layout(i),s.forEach(o=>{const r=i.node(o.id);o.position={x:r.x-He/2,y:r.y-qe/2}}),{nodes:s,edges:t}},jo=()=>{const s=c.useRef(null),[t]=j(G),[a]=j(ue),[i,o,r]=Qe([]),[n,l,d]=Xe([]),[m,p]=c.useState("TB"),x={hideAttribution:!0},[f,u]=c.useState("light");c.useEffect(()=>{const g=[],w=[],R={id:"overall",data:{label:"Overall Data"},position:{x:0,y:0},type:"input",sourcePosition:m==="TB"?B.Bottom:B.Right,targetPostion:m==="TB"?B.Left:B.Left,style:{backgroundColor:"#6c5ce7",borderRadius:"8px",padding:"10px",color:"#fff",border:"2px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)"}};g.push(R),a.forEach((W,H)=>{const Y=`website-${H}`,ve={id:Y,data:{label:W},position:{x:0,y:0},sourcePosition:m==="TB"?B.Bottom:B.Right,targetPosition:m==="TB"?B.Top:B.Left,style:{backgroundColor:"#0984e3",borderRadius:"8px",padding:"10px",color:"#fff",border:"2px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)"}};g.push(ve),w.push({id:`e-overall-${Y}`,source:"overall",target:Y});const we=t.filter(P=>P.website_name===W).map(P=>P.page_url),ke=new Set(we);Array.from(ke).forEach((P,xe)=>{const ce=`website-${H}-page-${xe}`,gt={id:ce,data:{label:P},position:{x:0,y:0},sourcePosition:m==="TB"?B.Bottom:B.Right,targetPosition:m==="TB"?B.Top:B.Left,style:{backgroundColor:"#00cec9",borderRadius:"8px",padding:"10px",color:"#fff",border:"2px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)"}};g.push(gt),w.push({id:`e-${Y}-${ce}`,source:Y,target:ce});const ft=t.filter(Ce=>Ce.website_name===W&&Ce.page_url===P&&Ce.element==="button").length,_e=`website-${H}-page-${xe}-button`,jt={id:_e,type:"output",data:{label:`Buttons: ${ft}`},position:{x:0,y:0},sourcePosition:m==="TB"?B.Bottom:B.Right,targetPosition:m==="TB"?B.Top:B.Left,style:{backgroundColor:"#fdcb6e",borderRadius:"8px",padding:"10px",color:"#000",border:"2px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.15)"}};g.push(jt),w.push({id:`e-${ce}-${_e}`,source:ce,target:_e})})});const L=fo(g,w,m);o(L.nodes),l(L.edges)},[t,o,l,m]);const h=()=>{p(g=>g==="TB"?"LR":"TB")},b=()=>{if(s.current){const g=s.current,w=g.querySelector(".react-flow__panel");w&&(w.style.display="none"),ns(g).then(R=>{w&&(w.style.display="block");const L=document.createElement("a");L.href=R,L.download="flow-diagram.png",L.click()})}};return e.jsx("div",{ref:s,style:{display:"flex",width:"100vw",height:"100vh",backgroundColor:"#f0f0f0",overflow:"hidden"},children:e.jsxs(Je,{nodes:i,edges:n,onNodesChange:r,onEdgesChange:d,fitView:!0,fitViewOptions:{padding:.2,minZoom:.5,maxZoom:.8},colorMode:f,proOptions:x,children:[e.jsx(et,{color:"#aaa",gap:16}),e.jsxs(rs,{position:"top-left",style:{marginTop:"70px",marginLeft:"220px"},children:[e.jsx(F,{variant:"outlined",color:"primary",onClick:h,sx:{width:"150px",height:"50px",minWidth:"150px",minHeight:"50px",maxWidth:"150px",maxHeight:"50px"},children:m==="TB"?"Horizontal":"Vertical"}),e.jsx(F,{variant:"contained",color:"secondary",onClick:b,sx:{width:"150px",height:"50px",minWidth:"150px",minHeight:"50px",maxWidth:"150px",maxHeight:"50px",marginLeft:"10px"},children:"Export to Image"}),e.jsxs(je,{variant:"outlined",sx:{minWidth:150,marginLeft:"10px"},children:[e.jsx(Ze,{sx:{color:f==="dark"?"#fff":"#000"},children:"Color Mode"}),e.jsxs(be,{label:"Color Mode",value:f,onChange:g=>u(g.target.value),sx:{color:f==="dark"?"#fff":"#000",".MuiOutlinedInput-notchedOutline":{borderColor:f==="dark"?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:f==="dark"?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:f==="dark"?"#fff":"#000"}},children:[e.jsx($,{value:"dark",children:"Dark"}),e.jsx($,{value:"light",children:"Light"}),e.jsx($,{value:"system",children:"System"})]})]})]})]})})},bo=240;function yo({onSelectView:s,onSelectWebsite:t,onSelectPage:a}){const[i]=j(G),[o,r]=c.useState(null),[n,l]=c.useState(null),[d]=j(ue),m=h=>{r(o===h?null:h)},p=h=>{l(n===h?null:h)},x=(h,b)=>{t(h),a(b),s("frequency")},f=h=>{s(h)},u={};return d.forEach(h=>{const g=i.filter(L=>L.website_name===h).map(L=>L.page_url),w=new Set(g),R=Array.from(w);u[h]=R}),e.jsxs(k,{children:[e.jsxs(Xt,{sx:{"& .MuiDrawer-paper":{width:bo,boxSizing:"border-box",marginTop:"65px"}},variant:"permanent",anchor:"left",children:[e.jsx(Oe,{}),e.jsxs(le,{children:[e.jsxs(pe,{onClick:()=>m("frequency"),children:[e.jsx(Se,{children:e.jsx(Jt,{})}),e.jsx(re,{primary:"Frequency Nodes"}),o==="frequency"?e.jsx(Fe,{}):e.jsx(Me,{})]}),e.jsx(ze,{in:o==="frequency",timeout:"auto",unmountOnExit:!0,children:e.jsx(le,{component:"div",disablePadding:!0,children:d.map(h=>e.jsxs(bt.Fragment,{children:[e.jsxs(pe,{onClick:()=>p(h),sx:{pl:4,mb:2},children:[e.jsx(Se,{children:e.jsx(es,{})}),e.jsx(re,{primary:h}),n===h?e.jsx(Fe,{}):e.jsx(Me,{})]}),e.jsx(ze,{in:n===h,timeout:"auto",unmountOnExit:!0,children:e.jsx(le,{component:"div",disablePadding:!0,children:u[h].map(b=>e.jsx(pe,{sx:{pl:8},onClick:()=>x(h,b),children:e.jsx(re,{primary:b})},b))})})]},h))})}),e.jsxs(pe,{onClick:()=>f("tree"),children:[e.jsx(Se,{children:e.jsx(ts,{})}),e.jsx(re,{primary:"Tree Graph"})]})]}),e.jsx(Oe,{}),e.jsx(le,{})]}),e.jsx(k,{children:e.jsx(ss,{})})]})}const vo=()=>{ct();const[s,t]=c.useState("tree"),[a,i]=c.useState(""),[o,r]=c.useState("");return e.jsxs("div",{style:{display:"flex"},children:[e.jsx(se,{}),e.jsx(yo,{onSelectView:t,onSelectWebsite:i,onSelectPage:r}),e.jsxs("div",{style:{flexGrow:1},children:[s==="frequency"&&e.jsx(go,{selectedWebsite:a,selectedPage:o}),s==="tree"&&e.jsx(jo,{})]})]})};function wo(){const[s,t]=j(te),[a,i]=c.useState(!0);if(c.useEffect(()=>{(async()=>{const r=await ks();r&&t(r),i(!1)})()},[]),!a)return e.jsx(vt,{children:e.jsxs(kt,{children:[e.jsx(E,{path:"/",element:e.jsx(Qs,{})}),e.jsx(E,{path:"/login",element:s?e.jsx(V,{to:window.location.pathname!=="/login"?window.location.pathname:"/dashboard/overview"}):e.jsx(ua,{})}),e.jsx(E,{path:"/signup",element:s?e.jsx(V,{to:window.location.pathname!=="/signup"?window.location.pathname:"/dashboard/overview"}):e.jsx(so,{})}),e.jsx(E,{path:"/dashboard",element:s?e.jsx(V,{to:"/dashboard/overview"}):e.jsx(V,{to:"/login"})}),e.jsx(E,{path:"/dashboard/:id",element:s?e.jsx(Za,{}):e.jsx(V,{to:"/login"})}),e.jsx(E,{path:"/docs",element:e.jsx(pt,{})}),e.jsx(E,{path:"/settings",element:s?e.jsx(xo,{}):e.jsx(V,{to:"/login"})}),e.jsx(E,{path:"/playground",element:s?e.jsx(vo,{}):e.jsx(V,{to:"/login"})}),e.jsx(E,{path:"/forgot-password",element:e.jsx(po,{})}),e.jsx(E,{path:"*",element:e.jsx(to,{})})]})})}yt(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(wo,{})}));
